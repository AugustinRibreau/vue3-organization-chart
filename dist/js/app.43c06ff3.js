(function(t){function e(e){for(var n,i,c=e[0],s=e[1],d=e[2],u=0,h=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(e);while(h.length)h.shift()();return o.push.apply(o,d||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,c=1;c<r.length;c++){var s=r[c];0!==a[s]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={app:0},o=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var l=s;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},1194:function(t,e,r){},3232:function(t,e,r){"use strict";r("1194")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23");function a(t,e,r,a,o,i){var c=Object(n["p"])("org-chart");return Object(n["m"])(),Object(n["c"])(c,{datasource:o.ds,onNodeClick:i.selectNode},null,8,["datasource","onNodeClick"])}r("b0c0"),r("b64b");function o(t,e,r,a,o,i){var c=Object(n["p"])("organization-chart-node");return Object(n["m"])(),Object(n["e"])("div",Object(n["j"])({scopedSlots:t.$slots},{class:"chartOrgchartContainer relative inline-block border-2 border-dashed border-gray-400 rounded overflow-auto text-center",onWheel:e[2]||(e[2]=function(t){return r.zoom&&i.zoomHandler(t)}),onMouseup:e[3]||(e[3]=function(t){return r.pan&&o.panning&&i.panEndHandler(t)})}),[Object(n["f"])("div",{class:"chartOrgchart box-border inline-block touch-none select-none border border-dashed border-white p-5",style:Object(n["l"])({transform:o.transformVal,cursor:o.cursorVal}),onMousedown:e[0]||(e[0]=function(t){return r.pan&&i.panStartHandler(t)}),onMousemove:e[1]||(e[1]=function(t){return r.pan&&o.panning&&i.panHandler(t)})},[Object(n["h"])(c,{datasource:r.datasource,"handle-click":i.handleClick},Object(n["g"])({_:2},[Object(n["n"])(Object.keys(t.$slots),(function(e){return{name:e,fn:Object(n["r"])((function(r){return[Object(n["o"])(t.$slots,e,Object(n["k"])(Object(n["i"])(r)))]}))}}))]),1032,["datasource","handle-click"])],36)],16)}r("a9e3"),r("ac1f"),r("1276"),r("a15b");var i={class:"mb-2 mx-auto border-separate"},c=["colspan"],s=["id"],d={class:"chartTitle text-center text-xs font-bold h-5 leading-5 overflow-hidden overflow-ellipsis whitespace-nowrap bg-red-600 text-white rounded-t"},l={class:"mx-2"},u={class:"chartContent border-box w-full h-5 text-xs border border-red-600 text-center rounded-b bg-white text-black overflow-none overflow-ellipsis whitespace-nowrap"},h={class:"mx-2"},b={class:"chartLines h-5"},f=["colspan"],p=Object(n["f"])("div",{class:"chartDownLine bg-red-400 mx-auto float-none h-5 w-0.5"},null,-1),m=[p],O={class:"chartLines h-5"},j=Object(n["f"])("td",{class:"chartRightLine border-r border-red-400"},null,-1),g=Object(n["f"])("td",{class:"chartLeftLine chartTopLine border-l border-red-400 border-t-2"},null,-1),v=Object(n["f"])("td",{class:"chartRightLine chartTopLine border-r border-red-400 border-t-2"},null,-1),x=Object(n["f"])("td",{class:"chartLeftLine border-l border-red-400"},null,-1),y={class:"nodes"};function w(t,e,r,a,o,p){var w=Object(n["p"])("node");return Object(n["m"])(),Object(n["e"])("table",i,[Object(n["f"])("tbody",null,[Object(n["f"])("tr",null,[Object(n["f"])("td",{colspan:r.datasource.children&&r.datasource.children.length?2*r.datasource.children.length:null},[Object(n["f"])("div",{class:"chartNode border-box inline-block relative m-0 p-0.5 border-2 border-dashed border-transparent text-center transition duration-300 hover:bg-red-300 rounded hover:cursor-default hover:z-20",style:{"min-width":"9rem"},id:r.datasource.id,onClick:e[0]||(e[0]=Object(n["s"])((function(t){return r.handleClick(r.datasource)}),["stop"]))},[Object(n["o"])(t.$slots,"default",{nodeData:r.datasource},(function(){return[Object(n["f"])("div",d,[Object(n["f"])("p",l,Object(n["q"])(r.datasource.name),1)]),Object(n["f"])("div",u,[Object(n["f"])("p",h,Object(n["q"])(r.datasource.title),1)])]}))],8,s)],8,c)]),r.datasource.children&&r.datasource.children.length?(Object(n["m"])(),Object(n["e"])(n["a"],{key:0},[Object(n["f"])("tr",b,[Object(n["f"])("td",{colspan:2*r.datasource.children.length},m,8,f)]),Object(n["f"])("tr",O,[j,(Object(n["m"])(!0),Object(n["e"])(n["a"],null,Object(n["n"])(r.datasource.children.length-1,(function(t){return Object(n["m"])(),Object(n["e"])(n["a"],{key:t},[g,v],64)})),128)),x]),Object(n["f"])("tr",y,[(Object(n["m"])(!0),Object(n["e"])(n["a"],null,Object(n["n"])(r.datasource.children,(function(e){return Object(n["m"])(),Object(n["e"])("td",{colspan:"2",key:e.id},[Object(n["h"])(w,{datasource:e,"handle-click":r.handleClick},Object(n["g"])({_:2},[Object(n["n"])(Object.keys(t.$slots),(function(e){return{name:e,fn:Object(n["r"])((function(r){return[Object(n["o"])(t.$slots,e,Object(n["k"])(Object(n["i"])(r)))]}))}}))]),1032,["datasource","handle-click"])])})),128))])],64)):Object(n["d"])("",!0)])])}var k={name:"node",props:{datasource:Object,handleClick:Function},methods:{}},V=r("6b0d"),L=r.n(V);const C=L()(k,[["render",w]]);var T=C,z={name:"Container",props:{background:Boolean,datasource:{type:Object,required:!0},pan:{type:Boolean,required:!1},zoom:{type:Boolean,required:!1},zoomOutLimit:{type:Number,required:!1,default:.5},zoomInLimit:{type:Number,required:!1,default:7}},data:function(){return{cursorVal:"default",panning:!1,coordinate:{start:{x:0,y:0},current:{x:0,y:0},last:{x:0,y:0}},transformVal:""}},components:{OrganizationChartNode:T},methods:{handleClick:function(t){this.$emit("node-click",t)},panEndHandler:function(){this.panning=!1,this.cursorVal="default"},panHandler:function(t){if(t.targetTouches){if(1===t.targetTouches.length)this.coordinate.current.x=t.targetTouches[0].pageX-this.coordinate.start.x,this.coordinate.current.y=t.targetTouches[0].pageY-this.coordinate.start.y;else if(t.targetTouches.length>1)return}else this.coordinate.current.x=t.pageX-this.coordinate.start.x,this.coordinate.current.y=t.pageY-this.coordinate.start.y;if(""!==this.transformVal){var e=this.transformVal.split(",");-1===this.transformVal.indexOf("3d")?(e[4]=this.coordinate.current.x,e[5]=this.coordinate.current.y+")"):(e[12]=this.coordinate.current.x,e[13]=this.coordinate.current.y),this.transformVal=e.join(",")}return-1!==this.transformVal.indexOf("3d")?this.transformVal="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,"+this.coordinate.current.x+", "+this.coordinate.current.y+",0,1)":this.transformVal="matrix(1,0,0,1,"+this.coordinate.current.x+","+this.coordinate.current.y+")"},panStartHandler:function(t){if(this.cursorVal="move",this.panning=!0,""!==this.transformVal){var e=this.transformVal.split(",");-1===this.transformVal.indexOf("3d")?(this.coordinate.last.x=parseInt(e[4]),this.coordinate.last.y=parseInt(e[5])):(this.coordinate.last.x=parseInt(e[12]),this.coordinate.last.y=parseInt(e[13]))}t.targetTouches?1===t.targetTouches.length&&(this.coordinate.start.x=t.targetTouches[0].pageX-this.coordinate.last.x,this.coordinate.start.y=t.targetTouches[0].pageY-this.coordinate.last.y):(this.coordinate.start.x=t.pageX-this.coordinate.last.x,this.coordinate.start.y=t.pageY-this.coordinate.last.y)},setChartScale:function(t){var e="",r=1;return""===this.transformVal?this.transformVal="matrix("+t+", 0, 0, "+t+", 0, 0)":(e=this.transformVal.split(","),-1===this.transformVal.indexOf("3d")?(r=Math.abs(window.parseFloat(e[3])*t),void(r>this.zoomOutLimit&&r<this.zoomInLimit&&(e[0]="matrix("+r,e[3]=r,this.transformVal=e.join(",")))):(r=Math.abs(window.parseFloat(e[5])*t),void(r>this.zoomOutLimit&&r<this.zoomInLimit&&(e[0]="matrix3d("+r,e[5]=r,this.transformVal=e.join(",")))))},zoomHandler:function(t){var e=1+(t.deltaY>0?-.2:.2);this.setChartScale(e)}}};r("3232");const M=L()(z,[["render",o]]);var H=M,S={name:"App",components:{OrgChart:H},data:function(){return{ds:{id:"1",name:"Augustin Ribreau",title:"director",children:[{id:"2",name:"Bo Miao",title:"department manager"},{id:"3",name:"Su Miao",title:"department manager",children:[{id:"4",name:"Tie Hua",title:"senior engineer"},{id:"5",name:"Hei Hei",title:"senior engineer",children:[{id:"6",name:"Pang Pang",title:"engineer"},{id:"7",name:"Xiang Xiang",title:"UE engineer"}]}]},{id:"8",name:"Hong Miao",title:"department manager"},{id:"9",name:"Chun Miao",title:"department manager"}]}}},methods:{selectNode:function(t){alert("node "+t.name+" is selected")}}};const P=L()(S,[["render",a]]);var N=P;r("db43");Object(n["b"])(N).mount("#app")},db43:function(t,e,r){}});
//# sourceMappingURL=app.43c06ff3.js.map