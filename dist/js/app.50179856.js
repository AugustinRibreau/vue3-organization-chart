(function(t){function e(e){for(var r,i,c=e[0],s=e[1],l=e[2],u=0,h=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);d&&d(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(t,e,n,a,o,i){var c=Object(r["p"])("org-chart");return Object(r["m"])(),Object(r["c"])(c,{datasource:o.ds,onNodeClick:i.selectNode},null,8,["datasource","onNodeClick"])}n("b0c0"),n("b64b");function o(t,e,n,a,o,i){var c=Object(r["p"])("organization-chart-node");return Object(r["m"])(),Object(r["e"])("div",Object(r["j"])({scopedSlots:t.$slots},{class:"chartOrgchartContainer",onWheel:e[2]||(e[2]=function(t){return n.zoom&&i.zoomHandler(t)}),onMouseup:e[3]||(e[3]=function(t){return n.pan&&o.panning&&i.panEndHandler(t)})}),[Object(r["f"])("div",{class:"chartOrgchart",style:Object(r["l"])({transform:o.transformVal,cursor:o.cursorVal}),onMousedown:e[0]||(e[0]=function(t){return n.pan&&i.panStartHandler(t)}),onMousemove:e[1]||(e[1]=function(t){return n.pan&&o.panning&&i.panHandler(t)})},[Object(r["h"])(c,{datasource:n.datasource,"handle-click":i.handleClick},Object(r["g"])({_:2},[Object(r["n"])(Object.keys(t.$slots),(function(e){return{name:e,fn:Object(r["r"])((function(n){return[Object(r["o"])(t.$slots,e,Object(r["k"])(Object(r["i"])(n)))]}))}}))]),1032,["datasource","handle-click"])],36)],16)}n("a9e3"),n("ac1f"),n("1276"),n("a15b");var i={class:"table"},c=["colspan"],s=["id"],l={class:"chartTitle"},d={style:{"margin-left":"0.5rem","margin-right":"0.5rem"}},u={class:"chartContent"},h={style:{"margin-left":"0.5rem","margin-right":"0.5rem"}},f={class:"chartLines"},b=["colspan"],p=Object(r["f"])("div",{class:"chartDownLine"},null,-1),m=[p],O={class:"chartLines"},j=Object(r["f"])("td",{class:"chartRightLine"},null,-1),g=Object(r["f"])("td",{class:"chartLeftLine chartTopLine"},null,-1),y=Object(r["f"])("td",{class:"chartRightLine chartTopLine"},null,-1),v=Object(r["f"])("td",{class:"chartLeftLine"},null,-1),x={class:"nodes"};function k(t,e,n,a,o,p){var k=Object(r["p"])("node");return Object(r["m"])(),Object(r["e"])("table",i,[Object(r["f"])("tbody",null,[Object(r["f"])("tr",null,[Object(r["f"])("td",{colspan:n.datasource.children&&n.datasource.children.length?2*n.datasource.children.length:null},[Object(r["f"])("div",{class:"chartNode",style:{"min-width":"9rem"},id:n.datasource.id,onClick:e[0]||(e[0]=Object(r["s"])((function(t){return n.handleClick(n.datasource)}),["stop"]))},[Object(r["o"])(t.$slots,"default",{nodeData:n.datasource},(function(){return[Object(r["f"])("div",l,[Object(r["f"])("p",d,Object(r["q"])(n.datasource.name),1)]),Object(r["f"])("div",u,[Object(r["f"])("p",h,Object(r["q"])(n.datasource.title),1)])]}))],8,s)],8,c)]),n.datasource.children&&n.datasource.children.length?(Object(r["m"])(),Object(r["e"])(r["a"],{key:0},[Object(r["f"])("tr",f,[Object(r["f"])("td",{colspan:2*n.datasource.children.length},m,8,b)]),Object(r["f"])("tr",O,[j,(Object(r["m"])(!0),Object(r["e"])(r["a"],null,Object(r["n"])(n.datasource.children.length-1,(function(t){return Object(r["m"])(),Object(r["e"])(r["a"],{key:t},[g,y],64)})),128)),v]),Object(r["f"])("tr",x,[(Object(r["m"])(!0),Object(r["e"])(r["a"],null,Object(r["n"])(n.datasource.children,(function(e){return Object(r["m"])(),Object(r["e"])("td",{colspan:"2",key:e.id},[Object(r["h"])(k,{datasource:e,"handle-click":n.handleClick},Object(r["g"])({_:2},[Object(r["n"])(Object.keys(t.$slots),(function(e){return{name:e,fn:Object(r["r"])((function(n){return[Object(r["o"])(t.$slots,e,Object(r["k"])(Object(r["i"])(n)))]}))}}))]),1032,["datasource","handle-click"])])})),128))])],64)):Object(r["d"])("",!0)])])}var V={name:"node",props:{datasource:Object,handleClick:Function},methods:{}},w=(n("7d71"),n("6b0d")),L=n.n(w);const C=L()(V,[["render",k]]);var T=C,M={name:"Container",props:{background:Boolean,datasource:{type:Object,required:!0},pan:{type:Boolean,required:!1},zoom:{type:Boolean,required:!1},zoomOutLimit:{type:Number,required:!1,default:.5},zoomInLimit:{type:Number,required:!1,default:7}},data:function(){return{cursorVal:"default",panning:!1,coordinate:{start:{x:0,y:0},current:{x:0,y:0},last:{x:0,y:0}},transformVal:""}},components:{OrganizationChartNode:T},methods:{handleClick:function(t){this.$emit("node-click",t)},panEndHandler:function(){this.panning=!1,this.cursorVal="default"},panHandler:function(t){if(t.targetTouches){if(1===t.targetTouches.length)this.coordinate.current.x=t.targetTouches[0].pageX-this.coordinate.start.x,this.coordinate.current.y=t.targetTouches[0].pageY-this.coordinate.start.y;else if(t.targetTouches.length>1)return}else this.coordinate.current.x=t.pageX-this.coordinate.start.x,this.coordinate.current.y=t.pageY-this.coordinate.start.y;if(""!==this.transformVal){var e=this.transformVal.split(",");-1===this.transformVal.indexOf("3d")?(e[4]=this.coordinate.current.x,e[5]=this.coordinate.current.y+")"):(e[12]=this.coordinate.current.x,e[13]=this.coordinate.current.y),this.transformVal=e.join(",")}return-1!==this.transformVal.indexOf("3d")?this.transformVal="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,"+this.coordinate.current.x+", "+this.coordinate.current.y+",0,1)":this.transformVal="matrix(1,0,0,1,"+this.coordinate.current.x+","+this.coordinate.current.y+")"},panStartHandler:function(t){if(this.cursorVal="move",this.panning=!0,""!==this.transformVal){var e=this.transformVal.split(",");-1===this.transformVal.indexOf("3d")?(this.coordinate.last.x=parseInt(e[4]),this.coordinate.last.y=parseInt(e[5])):(this.coordinate.last.x=parseInt(e[12]),this.coordinate.last.y=parseInt(e[13]))}t.targetTouches?1===t.targetTouches.length&&(this.coordinate.start.x=t.targetTouches[0].pageX-this.coordinate.last.x,this.coordinate.start.y=t.targetTouches[0].pageY-this.coordinate.last.y):(this.coordinate.start.x=t.pageX-this.coordinate.last.x,this.coordinate.start.y=t.pageY-this.coordinate.last.y)},setChartScale:function(t){var e="",n=1;return""===this.transformVal?this.transformVal="matrix("+t+", 0, 0, "+t+", 0, 0)":(e=this.transformVal.split(","),-1===this.transformVal.indexOf("3d")?(n=Math.abs(window.parseFloat(e[3])*t),void(n>this.zoomOutLimit&&n<this.zoomInLimit&&(e[0]="matrix("+n,e[3]=n,this.transformVal=e.join(",")))):(n=Math.abs(window.parseFloat(e[5])*t),void(n>this.zoomOutLimit&&n<this.zoomInLimit&&(e[0]="matrix3d("+n,e[5]=n,this.transformVal=e.join(",")))))},zoomHandler:function(t){var e=1+(t.deltaY>0?-.2:.2);this.setChartScale(e)}}};n("7db5");const z=L()(M,[["render",o]]);var H=z,S={name:"App",components:{OrgChart:H},data:function(){return{ds:{id:"1",name:"Augustin Ribreau",title:"director",children:[{id:"2",name:"Bo Miao",title:"department manager"},{id:"3",name:"Su Miao",title:"department manager",children:[{id:"4",name:"Tie Hua",title:"senior engineer"},{id:"5",name:"Hei Hei",title:"senior engineer",children:[{id:"6",name:"Pang Pang",title:"engineer"},{id:"7",name:"Xiang Xiang",title:"UE engineer"}]}]},{id:"8",name:"Hong Miao",title:"department manager"},{id:"9",name:"Chun Miao",title:"department manager"}]}}},methods:{selectNode:function(t){alert("node "+t.name+" is selected")}}};const P=L()(S,[["render",a]]);var N=P;n("db43");Object(r["b"])(N).mount("#app")},"7d71":function(t,e,n){"use strict";n("ba9d")},"7db5":function(t,e,n){"use strict";n("f9b7")},ba9d:function(t,e,n){},db43:function(t,e,n){},f9b7:function(t,e,n){}});
//# sourceMappingURL=app.50179856.js.map